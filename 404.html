<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Certificate Verification Redirect</title>
    <script type="text/javascript">
        // Single Page Apps for GitHub Pages
        // https://github.com/rafgraph/spa-github-pages
        // This script checks to see if a redirect is present in the query string
        // and converts it back into the correct url and adds it to the
        // browser's history using window.history.replaceState(...),
        // which will cause the window to load the correct page.

        const path = window.location.pathname;
        const search = window.location.search;

        // If we are looking for a certificate path
        if (path.includes('/certificates/verify/')) {
            const parts = path.split('/certificates/verify/');
            const code = parts[1];

            if (code && code.length >= 8) {
                // Redirect to the verify page with the code as a query param
                // This ensures GitHub Pages serves the index.html file
                window.location.href = window.location.origin + '/certificates/verify/index.html?code=' + code + (search ? '&' + search.slice(1) : '');
            } else {
                window.location.href = window.location.origin + '/certificates/verify/';
            }
        } else {
            // Default fallback to home
            window.location.href = window.location.origin;
        }
    </script>
</head>

<body>
    <p>Redirecting to certificate verification...</p>
</body>

</html>